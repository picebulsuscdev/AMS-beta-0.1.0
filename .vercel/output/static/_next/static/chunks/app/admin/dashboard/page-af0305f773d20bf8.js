(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{20747:(e,a,t)=>{Promise.resolve().then(t.bind(t,94459))},94459:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var r=t(95155),s=t(12115),n=t(76046),o=t(35007),l=t(14085),i=t(70001),d=t(77568),c=t(49688),u=t(25858),m=t(9133),f=t(30814);function p(){let e=(0,n.useRouter)(),[a,t]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),v=(0,m.VP)();(0,s.useEffect)(()=>{"unauthenticated"===v&&(f.o.error("Session expired. Please login again."),e.push("/admin"))},[v,e]);let y=async a=>{h(!0),g("/admin/generate-qr"===a?"qr":"consolidate"),await new Promise(e=>setTimeout(e,500)),e.push(a),h(!1),g(null)};return(0,r.jsxs)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:[(0,r.jsxs)("div",{className:"w-full max-w-4xl space-y-4",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"PICE BulSU-SC"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Administrator Dashboard"})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsx)(o.Zp,{className:"hover:bg-accent/50 transition-colors cursor-pointer ".concat(x&&"qr"!==x?"pointer-events-none bg-accent/50":""),onClick:()=>y("/admin/generate-qr"),children:(0,r.jsxs)(o.Wu,{className:"flex flex-col items-center justify-center p-12 text-center space-y-4",children:["qr"===x&&p?(0,r.jsx)(i.A,{className:"h-12 w-12 animate-spin"}):(0,r.jsx)(d.A,{className:"h-12 w-12"}),(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Generate Batch QR Code"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Generate QR codes for multiple students at once"})]})}),(0,r.jsx)(o.Zp,{className:"hover:bg-accent/50 transition-colors cursor-pointer ".concat(x&&"consolidate"!==x?"pointer-events-none bg-accent/50":""),onClick:()=>y("/admin/consolidate"),children:(0,r.jsxs)(o.Wu,{className:"flex flex-col items-center justify-center p-12 text-center space-y-4",children:["consolidate"===x&&p?(0,r.jsx)(i.A,{className:"h-12 w-12 animate-spin"}):(0,r.jsx)(c.A,{className:"h-12 w-12"}),(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Consolidate Attendance Logs"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Merge and analyze multiple attendance CSV files"})]})})]}),(0,r.jsx)("div",{className:"flex justify-center mt-8",children:(0,r.jsx)(l.$,{variant:"outline",onClick:()=>t(!0),children:"Sign Out"})})]}),(0,r.jsx)(u.Lt,{open:a,onOpenChange:t,children:(0,r.jsxs)(u.EO,{children:[(0,r.jsxs)(u.wd,{children:[(0,r.jsx)(u.r7,{children:"Are you sure you want to log out?"}),(0,r.jsx)(u.$v,{children:"You will be logged out of this session."})]}),(0,r.jsx)(u.Rx,{onClick:()=>{(0,m.ln)(),f.o.success("Successfully signed out"),e.push("/admin")},children:"Log out"}),(0,r.jsx)(u.Zr,{children:"Cancel"})]})})]})}},25858:(e,a,t)=>{"use strict";t.d(a,{$v:()=>g,EO:()=>p,Lt:()=>u,Rx:()=>v,Zr:()=>y,r7:()=>x,wd:()=>h});var r=t(39233),s=t(65843),n=t(94556),o=t(95155),l=t(12115),i=t(83572),d=t(29602),c=t(14085);let u=i.bL;i.l9;let m=i.ZL,f=l.forwardRef((e,a)=>{var{className:t}=e,l=(0,n._)(e,["className"]);return(0,o.jsx)(i.hJ,(0,s._)((0,r._)({className:(0,d.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t)},l),{ref:a}))});f.displayName=i.hJ.displayName;let p=l.forwardRef((e,a)=>{var{className:t}=e,s=(0,n._)(e,["className"]);return(0,o.jsxs)(m,{children:[(0,o.jsx)(f,{}),(0,o.jsx)(i.UC,(0,r._)({ref:a,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t)},s))]})});p.displayName=i.UC.displayName;let h=e=>{var{className:a}=e,t=(0,n._)(e,["className"]);return(0,o.jsx)("div",(0,r._)({className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",a)},t))};h.displayName="AlertDialogHeader";let x=l.forwardRef((e,a)=>{var{className:t}=e,s=(0,n._)(e,["className"]);return(0,o.jsx)(i.hE,(0,r._)({ref:a,className:(0,d.cn)("text-lg font-semibold",t)},s))});x.displayName=i.hE.displayName;let g=l.forwardRef((e,a)=>{var{className:t}=e,s=(0,n._)(e,["className"]);return(0,o.jsx)(i.VY,(0,r._)({ref:a,className:(0,d.cn)("text-sm text-muted-foreground",t)},s))});g.displayName=i.VY.displayName;let v=l.forwardRef((e,a)=>{var{className:t}=e,s=(0,n._)(e,["className"]);return(0,o.jsx)(i.rc,(0,r._)({ref:a,className:(0,d.cn)((0,c.r)(),t)},s))});v.displayName=i.rc.displayName;let y=l.forwardRef((e,a)=>{var{className:t}=e,s=(0,n._)(e,["className"]);return(0,o.jsx)(i.ZD,(0,r._)({ref:a,className:(0,d.cn)((0,c.r)({variant:"outline"}),"mt-2 sm:mt-0",t)},s))});y.displayName=i.ZD.displayName},14085:(e,a,t)=>{"use strict";t.d(a,{$:()=>u,r:()=>c});var r=t(39233),s=t(94556),n=t(95155),o=t(12115),l=t(12317),i=t(31027),d=t(29602);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef((e,a)=>{var{className:t,variant:o,size:i,asChild:u=!1}=e,m=(0,s._)(e,["className","variant","size","asChild"]);let f=u?l.DX:"button";return(0,n.jsx)(f,(0,r._)({className:(0,d.cn)(c({variant:o,size:i,className:t})),ref:a},m))});u.displayName="Button"},35007:(e,a,t)=>{"use strict";t.d(a,{Wu:()=>u,ZB:()=>c,Zp:()=>i,aR:()=>d});var r=t(39233),s=t(94556),n=t(95155),o=t(12115),l=t(29602);let i=o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow",t)},o))});i.displayName="Card";let d=o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t)},o))});d.displayName="CardHeader";let c=o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("font-semibold leading-none tracking-tight",t)},o))});c.displayName="CardTitle",o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t)},o))}).displayName="CardDescription";let u=o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("p-6 pt-0",t)},o))});u.displayName="CardContent",o.forwardRef((e,a)=>{var{className:t}=e,o=(0,s._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t)},o))}).displayName="CardFooter"},29602:(e,a,t)=>{"use strict";t.d(a,{cn:()=>n});var r=t(43463),s=t(69795);function n(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,r.$)(a))}},49688:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(82800).A)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]])},70001:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(82800).A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},77568:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(82800).A)("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},76046:(e,a,t)=>{"use strict";var r=t(66658);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},9133:(e,a,t)=>{"use strict";t.d(a,{VP:()=>s,ln:()=>n});var r=t(12115);function s(){let[e,a]=(0,r.useState)("pending");return(0,r.useEffect)(()=>{"admin"===sessionStorage.getItem("userRole")?a("authenticated"):a("unauthenticated")},[]),e}function n(){sessionStorage.removeItem("userRole"),sessionStorage.removeItem("userName")}},83572:(e,a,t)=>{"use strict";t.d(a,{UC:()=>O,VY:()=>F,ZD:()=>q,ZL:()=>P,bL:()=>E,hE:()=>I,hJ:()=>Z,l9:()=>L,rc:()=>V});var r=t(39233),s=t(65843),n=t(94556),o=t(12115),l=t(18166),i=t(88068),d=t(10417),c=t(93610),u=t(12317),m=t(95155),f="AlertDialog",[p,h]=(0,l.A)(f,[d.Hs]),x=(0,d.Hs)(),g=e=>{let{__scopeAlertDialog:a}=e,t=(0,n._)(e,["__scopeAlertDialog"]),o=x(a);return(0,m.jsx)(d.bL,(0,s._)((0,r._)({},o,t),{modal:!0}))};g.displayName=f;var v=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),l=x(t);return(0,m.jsx)(d.l9,(0,s._)((0,r._)({},l,o),{ref:a}))});v.displayName="AlertDialogTrigger";var y=e=>{let{__scopeAlertDialog:a}=e,t=(0,n._)(e,["__scopeAlertDialog"]),s=x(a);return(0,m.jsx)(d.ZL,(0,r._)({},s,t))};y.displayName="AlertDialogPortal";var N=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),l=x(t);return(0,m.jsx)(d.hJ,(0,s._)((0,r._)({},l,o),{ref:a}))});N.displayName="AlertDialogOverlay";var _="AlertDialogContent",[j,b]=p(_),w=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t,children:l}=e,f=(0,n._)(e,["__scopeAlertDialog","children"]),p=x(t),h=o.useRef(null),g=(0,i.s)(a,h),v=o.useRef(null);return(0,m.jsx)(d.G$,{contentName:_,titleName:A,docsSlug:"alert-dialog",children:(0,m.jsx)(j,{scope:t,cancelRef:v,children:(0,m.jsxs)(d.UC,(0,s._)((0,r._)({role:"alertdialog"},p,f),{ref:g,onOpenAutoFocus:(0,c.m)(f.onOpenAutoFocus,e=>{var a;e.preventDefault(),null===(a=v.current)||void 0===a||a.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,m.jsx)(u.xV,{children:l}),(0,m.jsx)(z,{contentRef:h})]}))})})});w.displayName=_;var A="AlertDialogTitle",k=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),l=x(t);return(0,m.jsx)(d.hE,(0,s._)((0,r._)({},l,o),{ref:a}))});k.displayName=A;var R="AlertDialogDescription",D=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),l=x(t);return(0,m.jsx)(d.VY,(0,s._)((0,r._)({},l,o),{ref:a}))});D.displayName=R;var C=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),l=x(t);return(0,m.jsx)(d.bm,(0,s._)((0,r._)({},l,o),{ref:a}))});C.displayName="AlertDialogAction";var M="AlertDialogCancel",S=o.forwardRef((e,a)=>{let{__scopeAlertDialog:t}=e,o=(0,n._)(e,["__scopeAlertDialog"]),{cancelRef:l}=b(M,t),c=x(t),u=(0,i.s)(a,l);return(0,m.jsx)(d.bm,(0,s._)((0,r._)({},c,o),{ref:u}))});S.displayName=M;var z=e=>{let{contentRef:a}=e,t="`".concat(_,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(_,"` by passing a `").concat(R,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(_,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return o.useEffect(()=>{var e;document.getElementById(null===(e=a.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(t)},[t,a]),null},E=g,L=v,P=y,Z=N,O=w,V=C,q=S,I=k,F=D}},e=>{var a=a=>e(e.s=a);e.O(0,[524,814,417,441,517,358],()=>a(20747)),_N_E=e.O()}]);